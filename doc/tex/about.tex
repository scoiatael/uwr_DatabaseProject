\input{main.tex}

\begin{document}
\titlep{Dokumentacja ogólna}{1.0}
\chist{1.0 & 2014-06-13 & Powstanie dokumentu & Łukasz Czapliński\\
        }
\tableofcontents
\clearpage
\section{Wprowadzenie}
\subsection{Cel dokumentu}
Dokument ten ma na celu sprecyzowanie zadań projektu CoffeeShop i sposobów ich realizacji.
\section{Zadania projektu}
Celem projektu jest stworzenie aplikacji bazodanowej pozwalającej na obsługę prostego CoffeeShopu. Ma być on zdecentralizowany -- kilku właścicieli, z których każdy ma swoje towary. Mogą oni współdzielić dostawców towarów. Klienci mają mieć wybór co kupują od którego właściciela. 
Powinno się to odbywać zdalnie -- zarówno pomiędzy klientami a właścicielami (klient zamawia towary u konkretnego dostawcy, a ten kontaktuje się z nim w sprawie odbioru i zapłaty) oraz dostawcami i właścicielami (właściciel wybiera jaki typ produktu chce zamówić i kontaktuje się z dostawcą lub odwrotnie -- dostawca pyta właścicieli z którymi współpracował czego będą potrzebować).
\section{Model}
\subsection{Model konceptualny}
Jest przedstawiony na rys.~[\ref{konc}].\\
Można w nim wyróżnić 3 główne role: klient, dostawca i właściciel oraz 3 obiekty którymi operują: produkty, ich typy oraz zamówienia. \\
Klient składa zamówienia do właściciela na konkretne produkty.\\
Właściciel dodaje nowe produkty wybierając z oferty dostawców.\\
Dostawca rejestruje jakie typy produktów w jakiej cenie może zapewnić.\\
Zamawianie dostaw nie jest kontrolowane przez tą bazę danych -- odbywa się pomiędzy właścicielem a dostawcą przez umówione kontakty -- maile.
\subsection{Model fizyczny}
\subsubsection{Dostawca}
\lstinputlisting[language=SQL, firstline=46, lastline=50]{../../src/projekt.sql}
\subsubsection{Klient}
\lstinputlisting[language=SQL, firstline=11, lastline=18]{../../src/projekt.sql}
\subsubsection{Właściciel}
\lstinputlisting[language=SQL, firstline=23, lastline=28]{../../src/projekt.sql}
\subsubsection{Typ produktu}
\lstinputlisting[language=SQL, firstline=4, lastline=9]{../../src/projekt.sql}
\subsubsection{Produkt}
\lstinputlisting[language=SQL, firstline=55, lastline=63]{../../src/projekt.sql}
\subsubsection{Zamówienie}
\lstinputlisting[language=SQL, firstline=33, lastline=41]{../../src/projekt.sql}
\begin{figure}
  \includegraphics[width=0.99\textwidth]{model.png}
  \caption{Model konceptualny bazy danych}
  \label{konc}
\end{figure}
\end{document}
